<html lang="en">
  <head>
    <title>
      Airbnb
    </title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://a0.muscache.com/airbnb/static/icons/apple-touch-icon-76x76-3b313d93b1b5823293524b9764352ac9.png"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" integrity="sha512-vKMx8UnXk60zUwyUnUPM3HbQo8QfmNx7+ltw8Pm5zLusl1XIfwcxo8DbWCqMGKaWeNxWA8yrx5v3SaVpMvR3CA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
    <!-- Body Content will render here -->
    {{{body}}}
    <link rel="stylesheet" type="text/css" href="responsive/responsive.css" />
    <div
      class="modal fade"
      id="loginModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="loginModal"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Login
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">
                Ã—
              </span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group col-md-12">
              <label>
                Email
              </label>
              <input
                type="email"
                id="userEmail"
                name="email"
                class="form-control"
                placeholder="Email"
              />
            </div>
            <div class="form-group col-md-12">
              <label>
                Password
              </label>
              <input
                type="password"
                name="password"
                id="userPassword"
                class="form-control"
                placeholder="Password"
              />
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              onclick="submitLogin()"
              class="btn btn-primary"
            >
              Login
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js" integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      function submitLogin(){ 
        var email = $('#userEmail').val(); 
        var password = $('#userPassword').val();
        $.ajax({
          url: '/login',
          type: 'POST',
          data: {
            email: email,
            password: password
          },
          success: function(res){
            toastr.success(res.message)
            $('#loginModal').modal('hide')
          },
          error: function(err){
            toastr.error(err.responseJSON.message)
          }
        })
       }
    </script>
  </body>
</html>